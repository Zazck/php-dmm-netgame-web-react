{"version":3,"sources":["store/title.store.ts","store/game-list.store.ts","services/setting.service.ts","guards/auth.guard.tsx","guards/play.guard.tsx","store/index.ts","types/dmm.ts","services/dmm.service.ts","components/dialogs/installation/installation.tsx","components/dialogs/update-st/update-st.tsx","components/dialogs/registration/registration.tsx","components/dialogs/payment/payment.tsx","routes/play/play.tsx","components/game-card/game-card.tsx","routes/game-list/game-list.tsx","routes/auth/auth.tsx","routes/settings/settings.tsx","routes/about/about.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["MODIFY_TITLE","updateTitle","title","type","initialState","UPDATE_GENERAL_GAME_LIST","UPDATE_ADULT_GAME_LIST","updateGeneralGameList","list","general","adult","SettingService","k","_settingNames","_i","Object","defineProperty","get","JSON","parse","localStorage","getItem","set","v","undefined","removeItem","setItem","stringify","length","_loop","AuthGuardRoute","render","Component","_this","props","component","category","authenticated","react_default","a","createElement","react_router","to","push","React","withRouter","PlayGuardRoute","this","search","location","params","URLSearchParams","searchCategory","searchName","game","gameCategory","append","pathname","concat","toString","rootReducer","combineReducers","state","arguments","action","objectSpread","gameList","mapStateToProps","titleState","gameListState","OpCode","DMMService","DmmService","classCallCheck","responseText","0","-1","-2","-10","-11","-12","-13","-14","-15","-16","-17","-18","-19","-20","-100","-101","-110","url","emiter","EventEmitter","createClass","key","value","input","result","FormData","keys","forEach","cookies","_request","asyncToGenerator","regenerator_default","mark","_callee","init","response","wrap","_context","prev","next","fetch","catch","emit","CLIENT_NETWORK_ERROR","sent","abrupt","code","data","json","SERVER_INVALID_RESPONSE","OK","DMM_TOKEN_EXPIRED","stop","_x","_x2","apply","_login","_callee2","payload","exchange","_context2","createFormData","request","method","body","save_login_id","loginID","login_id","save_password","password","use_auto_login","autoLogin","_x3","_x4","_logout","_callee3","_context3","_install","_callee4","_context4","_x5","_run","_callee5","_context5","_x6","_updateST","_callee6","_context6","_x7","_regist","_callee7","_context7","_x8","_requestPayment","_callee8","_context8","_x9","_paymentCommit","_callee9","_context9","_x10","_paymentCancel","_callee10","_context10","_x11","InstallationDialog","possibleConstructorReturn","getPrototypeOf","call","install","setState","requesting","app_name","app_base","notification","myapp","DMM_GAME_ALREADY_INSTALLED","onClose","handleCheckboxChange","event","target","checked","_this2","classes","Dialog","open","onExited","aria-labelledby","DialogTitle","id","DialogContent","FormGroup","FormControlLabel","control","Checkbox","onChange","e","color","name","label","DialogActions","Button","onClick","CircularProgress","size","className","progress","withStyles","theme","createStyles","palette","grey","UpdateSTDialog","RegistrationDialog","nickNameList","randomNickname","Math","floor","random","regist","appBase","nickname","gender","year","birthday","month","padStart","day","date","isGeneralChecked","isAdultChecked","minDate","Date","maxDate","getFullYear","Moment","FormControl","margin","InputLabel","htmlFor","Input","endAdornment","InputAdornment","position","IconButton","aria-label","onMouseDown","preventDefault","Autorenew","RadioGroup","_","Radio","material_ui_pickers_esm","utils","MomentUtils","locale","okLabel","cancelLabel","InputProps","InsertInvitation","flexDirection","PaymentDialog","commit","processingPayment","paymentCommit","cancel","processingCancel","paymentCancel","_this$props","detail","src","itemImage","alt","itemTitle","width","height","Typography","variant","itemDescription","Intl","NumberFormat","format","itemPrice","itemCount","point","disabled","Play","newTransactionHost","componentWillMount","document","handleOsapi","osapi","parser","innerHTML","URL","searchParams","has","window","origin","hashPair","hash","substr","split","rpcToken","requestPayment","_ref","transactionUrl","paymentPayload","app_id","gadgetInfo","version","host","payment_id","paymentId","rpcMessage","payment","paymentDetail","handleMessage","raw","s","iframeHeight","loading","console","log","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","clearTimeout","updateStTimer","updateST","st","encodeURIComponent","time","token","status","clearInterval","runGame","gadget_info","decodeURIComponent","autoRedirect","assign","setInterval","frameOrigin","pure","iframe_width","iframeWidth","handleResponse","DMM_GAME_INSTALL_NEEDED","DMM_REQUIRE_PROFILE","DMM_FORCE_REDIRECT","run","tokenExpired","back","navigate","_len","Array","_key","frame","contentWindow","postMessage","t","c","f","l","then","_this3","scrolling","allowFullScreen","installation","update_st","registration","payment_payment","_ref3","amount","response_code","getElementById","connect","left","top","border","display","kancolle","GameCard","react_router_dom","link","ButtonBase","button","Card","card","CardMedia","cover","image","details","CardContent","content","description","flex","paddingBottom","textDecoration","GameList","getList","fetchList","t0","t1","t2","t3","updateAdultGameList","Response","Tabs","indicatorColor","textColor","centered","Tab","icon","LocalFlorist","LocalBar","hidden","cardList","map","info","game_card","thumb","comment","makeQueryString","gridTemplateColumns","gridGap","padding","justifyContent","Auth","handleCategoryChange","handleLoginPayloadChange","loginPayload","login","saveLoginID","savePassword","done","logout","container","actionButton","Toolbar","disableGutters","tabs","Paper","inputBox","TextField","autoComplete","fullWidth","field","marginTop","fontSize","Settings","settingsBody","Switch","inputProps","About","App","_React$Component","navLinks","ExitToAppIcon","ListIcon","PlayArrowIcon","exact","SettingsIcon","InfoIcon","toggleDrawer","opened","closeSnackbar","snackbar","on","message","snackbarMessage","inherits","background","basename","Drawer","drawerTitle","List","drawer","activeClassName","active","ListItem","ListItemIcon","ListItemText","primary","AppBar","edge","menuButton","Menu","href","SvgIcon","viewBox","aria-hidden","fillRule","d","path","auth_guard","play_guard","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","aria-describedby","ArrowDropDown","marginRight","spacing","flexGrow","whiteSpace","minHeight","paddingLeft","main","pointerEvents","backgroundColor","Boolean","hostname","match","store","createStore","createMuiTheme","deepPurple","A700","secondary","teal","Root","MuiThemeProvider","es","src_App_0","ReactDOM","src_Root","navigator","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.ddf80810.chunk.js","sourcesContent":["export const MODIFY_TITLE = 'MODIFY_TITLE';\n\ninterface ModifyTitleAction {\n  type: typeof MODIFY_TITLE;\n  title: string;\n}\n\nexport function updateTitle(title: string): ModifyTitleAction {\n  return {\n    title,\n    type: MODIFY_TITLE,\n  };\n}\n\nexport interface TitleState {\n  title: string;\n}\n\nconst initialState: TitleState = {\n  title: '欢迎',\n};\n\nexport function titleReducer(\n  state = initialState,\n  action: ModifyTitleAction,\n): TitleState {\n  switch (action.type) {\n    case MODIFY_TITLE:\n      return {\n        ...state,\n        title: action.title,\n      };\n    default:\n      return state;\n  }\n}\n","import { IGameInfo } from '../types/dmm';\n\nexport const UPDATE_GENERAL_GAME_LIST = 'UPDATE_GENERAL_GAME_LIST';\nexport const UPDATE_ADULT_GAME_LIST = 'UPDATE_ADULT_GAME_LIST';\n\ninterface UpdateGeneralGameListAction {\n  type: typeof UPDATE_GENERAL_GAME_LIST;\n  list: IGameInfo[];\n}\n\ninterface UpdateAdultGameListAction {\n  type: typeof UPDATE_ADULT_GAME_LIST;\n  list: IGameInfo[];\n}\n\nexport function updateGeneralGameList(list: IGameInfo[]): UpdateGeneralGameListAction {\n  return {\n    list,\n    type: UPDATE_GENERAL_GAME_LIST,\n  };\n}\n\nexport function updateAdultGameList(list: IGameInfo[]): UpdateAdultGameListAction {\n  return {\n    list,\n    type: UPDATE_ADULT_GAME_LIST,\n  };\n}\n\nexport interface GameListState {\n  general: IGameInfo[];\n  adult: IGameInfo[];\n}\n\nconst initialState: GameListState = {\n  general: [],\n  adult: [],\n};\n\nexport function gameListReducer(\n  state = initialState,\n  action: UpdateGeneralGameListAction & UpdateAdultGameListAction,\n): GameListState {\n  switch (action.type) {\n    case UPDATE_GENERAL_GAME_LIST:\n      return {\n        ...state,\n        general: action.list,\n      };\n    case UPDATE_ADULT_GAME_LIST:\n      return {\n        ...state,\n        adult: action.list,\n      };\n    default:\n      return state;\n  }\n}\n","interface ISetting {\n  autoLogin?: boolean;\n  autoRedirect?: boolean;\n  loginID?: string;\n  password?: string;\n  category?: 'general' | 'exchange'; // 'adult'\n  game?: string;\n  gameCategory?: 'general' | 'adult';\n  cookies?: object;\n  authenticated?: boolean;\n  autoRelogin?: boolean;\n}\n\n// tslint:disable-next-line: variable-name\nconst SettingService: ISetting = {} as ISetting;\n\nconst settingNames = [\n  'autoLogin',\n  'autoRedirect',\n  'loginID',\n  'password',\n  'category',\n  'game',\n  'gameCategory',\n  'cookies',\n  'authenticated',\n  'autoRelogin',\n];\n\nfor (const k of settingNames) {\n  Object.defineProperty(SettingService, k, {\n    get() {\n      return JSON.parse(localStorage.getItem(k) || 'null');\n    },\n    set(v) {\n      if (v === undefined) {\n        localStorage.removeItem(k);\n      } else {\n        localStorage.setItem(k, JSON.stringify(v));\n      }\n    },\n  });\n}\n\nexport {\n  SettingService,\n};\n","import { default as React } from 'react';\nimport { Redirect, RouteComponentProps } from 'react-router-dom';\nimport { SettingService } from '../services/setting.service';\nimport { StaticContext, RouteProps, withRouter } from 'react-router';\n\nclass AuthGuardRoute extends React.Component<RouteProps & RouteComponentProps<any, StaticContext, any>, any> {\n  render = () => {\n    // tslint:disable-next-line: variable-name\n    const { component: Component }: { component?: any, rest?: any[] } = this.props;\n    if (!SettingService.category || !SettingService.authenticated) {\n      return <Redirect to={ '/auth' } push={ true } />;\n    }\n    return <Component { ...this.props } />;\n  }\n}\n\nexport default withRouter(AuthGuardRoute);\n","import { default as React } from 'react';\nimport { Redirect, RouteComponentProps } from 'react-router-dom';\nimport { SettingService } from '../services/setting.service';\nimport { StaticContext, RouteProps, withRouter } from 'react-router';\n\nclass PlayGuardRoute extends React.Component<RouteProps & RouteComponentProps<any, StaticContext, any>, any> {\n  render() {\n    // tslint:disable-next-line: variable-name\n    const { component: Component }: { component?: any } = this.props;\n    if (!SettingService.category || !SettingService.authenticated) {\n      return <Redirect to={ '/auth' } push={ true } />;\n    }\n    const search = this.props.location!.search;\n    const params = new URLSearchParams(search);\n    const searchCategory = params.get('category');\n    const searchName = params.get('name');\n    // parameter not provided\n    if (!searchCategory || !searchName) {\n      if (!SettingService.game || !SettingService.gameCategory) {\n        return <Redirect to={ '/game-list' } />;\n      }\n      const search = new URLSearchParams();\n      search.append('name', SettingService.game);\n      search.append('category', SettingService.gameCategory);\n      return <Redirect to={ { pathname: '/', search: `?${search.toString()}` } } />;\n      // return <Route {...rest} render={ () => <Component {...this.props} /> } />;\n    }\n    // incorrect parameter\n    if ((searchCategory !== 'general') && (searchCategory !== 'adult')) {\n      return <Redirect to={ '/game-list' } />;\n    }\n    // user is trying to start an adult game without adult site cookies\n    if (searchCategory !== 'general' && SettingService.category === 'general') {\n      return <Redirect to={ '/game-list' } />;\n    }\n    return <Component {...this.props} />;\n  }\n}\n\nexport default withRouter(PlayGuardRoute);\n","import { combineReducers, createStore } from 'redux';\nimport { titleReducer, updateTitle } from './title.store';\nimport { gameListReducer, updateGeneralGameList, updateAdultGameList } from './game-list.store';\n\nconst rootReducer = combineReducers({\n  title: titleReducer,\n  gameList: gameListReducer,\n});\n\nexport type AppState = ReturnType<typeof rootReducer>;\n\nexport const mapStateToProps = (state: AppState) => ({\n  titleState: state.title,\n  gameListState: state.gameList,\n});\n\nexport default function configureStore() {\n  const store = createStore(\n    rootReducer,\n  );\n\n  return store;\n}\n\nexport type AppStore = ReturnType<typeof mapStateToProps> & {\n  updateTitle: typeof updateTitle;\n  updateGeneralGameList: typeof updateGeneralGameList;\n  updateAdultGameList: typeof updateAdultGameList;\n};\n","export enum OpCode {\n  OK = 0,\n  INVALID_INPUT = -1,\n  NETWORK_ERROR = -2,\n  DMM_TOKEN_NOT_FOUND = -10,\n  TOKEN_NOT_FOUND = -11,\n  DMM_METHOD_CHANGED = -12,\n  DMM_PASSWORD_RESET = -13,\n  DMM_INVALID_INPUT = -14,\n  DMM_GAME_INSTALL_NEEDED = -15,\n  DMM_GAME_ALREADY_INSTALLED = -16,\n  DMM_TOKEN_EXPIRED = -17,\n  DMM_INVALID_EMAIL_PASSWORD = -18,\n  DMM_FORCE_REDIRECT = -19,\n  DMM_REQUIRE_PROFILE = -20,\n  CLIENT_NETWORK_ERROR = -100,\n  CLIENT_COOKIES_LOST = -101,\n  SERVER_INVALID_RESPONSE = -110,\n}\n\nexport interface ILoginPayload {\n  login_id: string;\n  password: string;\n  save_login_id: 0 | 1;\n  save_password: 0 | 1;\n  use_auto_login: 0 | 1;\n  // app_base: 'general' | 'adult' | 'exchange';\n}\n\nexport interface IGadgetInfo {\n  viewer_id: number;\n  owner_id: number;\n  app_id: number;\n  url: string;\n  st: string;\n  time: number;\n  type: string;\n  token: string;\n}\n\nexport interface IResponseGameFrame {\n  gadget_info: IGadgetInfo;\n  iframe_width: number;\n}\n\nexport interface IInstallPayload {\n  app_name: string;\n  app_base: string;\n  notification: 0 | 1;\n  myapp: 0 | 1;\n}\n\nexport interface IRegistPayload {\n  app_base: string;\n  nickname: string;\n  gender: 'male' | 'female';\n  year: string;\n  month: string;\n  day: string;\n  isGeneralChecked?: 'on';\n  isAdultChecked?: 'on';\n}\n\nexport interface IRunPayload {\n  app_name: string;\n  app_base: string;\n}\n\nexport interface IUpdateSTPayload {\n  app_name: string;\n  app_base: string;\n  app_id: number;\n  st: string;\n  time: number;\n  token: string;\n}\n\nexport interface IResponseData<T> {\n  code: OpCode.OK;\n  data: T;\n  cookies: object[];\n}\n\nexport interface IResponseMessage {\n  code: OpCode;\n  data?: string;\n  cookies: object[];\n}\n\nexport interface IResponseError {\n  code: Exclude<OpCode, OpCode.OK>;\n  data: string;\n  cookies: object[];\n}\n\nexport interface IResponseST {\n  status: string;\n  result: string;\n  time: number;\n}\n\nexport interface IGameInfo {\n  name: string;\n  thumb: string;\n  title: string;\n  comment: string;\n}\n\nexport interface IResponsePaymentDetail {\n  gameTitle: string;\n  itemTitle: string;\n  itemImage: string;\n  itemDescription: string;\n  itemPrice: number;\n  itemCount: number;\n  point: number;\n}\n\nexport interface IResponsePaymentAction {\n  amount: number;\n  response_code: 'OK' | 'CANCEL' | 'err';\n  payment_id: string;\n}\n\nexport interface IPaymentPayload {\n  app_name: string;\n  app_base: string;\n  app_id: number;\n  version: 'new' | 'old';\n  payment_id: string;\n}\n\nexport interface IRPCPayloadRaw<T extends any[] = any[]> {\n  s: string;\n  a: T;\n  t: string;\n  c: 0;\n  f: '..';\n  l: false;\n}\n\nexport interface IRPCPayload<T extends any[] = any[]> {\n  event: string;\n  data: T;\n}\n\nexport interface IRPCRequestPaymentPayload {\n  orderedTime: string;\n  paymentId: string;\n  status: number;\n  transactionUrl: string;\n}\n","import { EventEmitter } from 'events';\nimport { SettingService } from './setting.service';\nimport { OpCode, IResponseMessage, ILoginPayload, IResponseError, IResponseData, IRunPayload, IResponseGameFrame, IPaymentPayload, IRegistPayload, IResponsePaymentDetail, IResponsePaymentAction, IUpdateSTPayload, IResponseST, IInstallPayload } from '../types/dmm';\n\nexport class DmmService {\n  private responseText = {\n    // tslint:disable-next-line: object-literal-key-quotes\n    '0': '载入成功',\n    '-1': '似乎输入了错误的数据',\n    '-2': '服务器网络通信故障',\n    '-10': '没找到DMM验证信息',\n    '-11': '没找到验证信息',\n    '-12': '似乎DMM修改了数据格式',\n    '-13': 'DMM要求更改用户密码',\n    '-14': '对DMM输入了错误的数据',\n    '-15': '需要先安装这个游戏',\n    '-16': '这个游戏已经安装过了',\n    '-17': '验证信息已经过期',\n    '-18': '无效的用户名和密码',\n    '-19': 'DMM强制要求页面重定向',\n    '-20': '需要完善账号信息',\n    '-100': '浏览器与服务器通信失败',\n    '-101': '丢失了登录凭据, 需重新登录',\n    '-110': '登录器服务端回报了无效的数据',\n  };\n  private readonly url = 'http://zazck.s1001.xrea.com/services/1562817725000/api.php';\n  public emiter = new EventEmitter();\n\n  private createFormData(input?: any) {\n    const result = new FormData();\n    if (input) {\n      Object.keys(input).forEach((k) => {\n        const v: any = input[k];\n        result.append(k, ((v === true) || (v === false)) ? +v : v);\n      });\n    }\n    const cookies = SettingService.cookies;\n    if (cookies) {\n      result.append('cookies', JSON.stringify(cookies));\n    } else {\n      result.append('cookies', '[]');\n    }\n    return result;\n  }\n\n  private async request<T>(input: RequestInfo, init?: RequestInit): Promise<IResponseData<T> | IResponseError | IResponseMessage> {\n    const response: Response | null = await fetch(input, init)\n      .catch(() => {\n        this.emiter.emit('message', this.responseText[OpCode.CLIENT_NETWORK_ERROR]);\n        return null;\n      });\n    if (!response) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const result: IResponseData<T> | IResponseError | IResponseMessage | null = await response.json()\n      .catch(() => {\n        this.emiter.emit('message', this.responseText[OpCode.SERVER_INVALID_RESPONSE]);\n        return null;\n      });\n    if (!result) {\n      return {\n        code: OpCode.SERVER_INVALID_RESPONSE,\n        data: this.responseText[OpCode.SERVER_INVALID_RESPONSE],\n        cookies: [],\n      } as IResponseError;\n    }\n    if (result.cookies) {\n      SettingService.cookies = result.cookies;\n    }\n    this.emiter.emit('message', this.responseText[result.code]);\n    if (result.code === OpCode.OK) {\n      return result;\n    }\n    if (result.code === OpCode.DMM_TOKEN_EXPIRED) {\n      SettingService.cookies = [];\n      SettingService.authenticated = false;\n    }\n    return result;\n  }\n\n  public async login(payload: ILoginPayload, exchange?: boolean): Promise<IResponseMessage | IResponseError> {\n    const data = this.createFormData(payload);\n    data.append('method', exchange ? 'login_exchange' : 'login');\n    const result = await this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as IResponseMessage | IResponseError;\n    if (result.code === OpCode.OK) {\n      if (payload.save_login_id) {\n        SettingService.loginID = payload.login_id;\n      } else {\n        SettingService.loginID = undefined;\n      }\n      if (payload.save_password) {\n        SettingService.password = payload.password;\n      } else {\n        SettingService.password = undefined;\n      }\n      if (payload.use_auto_login) {\n        SettingService.autoLogin = true;\n      } else {\n        SettingService.autoLogin = undefined;\n      }\n      if (exchange) {\n        SettingService.category = 'exchange';\n      } else {\n        SettingService.category = 'general';\n      }\n      SettingService.authenticated = true;\n    }\n    return result;\n  }\n\n  public async logout(): Promise<IResponseMessage | IResponseError> {\n    const data = this.createFormData();\n    data.append('method', 'logout');\n    const result = await this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as IResponseMessage | IResponseError;\n    if (result.code === OpCode.OK) {\n      SettingService.authenticated = false;\n    }\n    return result;\n  }\n\n  public async install(payload: IInstallPayload): Promise<IResponseData<IResponseGameFrame> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'install');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<IResponseGameFrame> | IResponseError>;\n  }\n\n  public async run(payload: IRunPayload): Promise<IResponseData<IResponseGameFrame> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'run');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<IResponseGameFrame> | IResponseError>;\n  }\n\n  public async updateST(payload: IUpdateSTPayload): Promise<IResponseData<IResponseST> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'update_st');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<IResponseST> | IResponseError>;\n  }\n\n  public async regist(payload: IRegistPayload): Promise<IResponseData<null> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'regist');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<null> | IResponseError>;\n  }\n\n  public async requestPayment(payload: IPaymentPayload): Promise<IResponseData<IResponsePaymentDetail> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'request_payment');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<IResponsePaymentDetail> | IResponseError>;\n  }\n\n  public async paymentCommit(payload: IPaymentPayload): Promise<IResponseData<IResponsePaymentAction> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'payment_commit');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<IResponsePaymentAction> | IResponseError>;\n  }\n\n  public async paymentCancel(payload: IPaymentPayload): Promise<IResponseData<IResponsePaymentAction> | IResponseError> {\n    if (!SettingService.cookies) {\n      return {\n        code: OpCode.CLIENT_NETWORK_ERROR,\n        data: this.responseText[OpCode.CLIENT_NETWORK_ERROR],\n        cookies: [],\n      } as IResponseError;\n    }\n    const data = this.createFormData(payload);\n    data.append('method', 'payment_cancel');\n    return this.request(this.url, {\n      method: 'POST',\n      body: data,\n    }) as Promise<IResponseData<IResponsePaymentAction> | IResponseError>;\n  }\n}\n\n// tslint:disable-next-line: variable-name\nexport const DMMService = new DmmService();\n","import { default as React } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, WithStyles, withStyles, CircularProgress, createStyles, Theme, FormGroup, Checkbox, FormControlLabel } from '@material-ui/core';\nimport { IInstallPayload, IResponseData, IResponseGameFrame, IResponseError, OpCode, IRunPayload } from '../../../types/dmm';\nimport { DMMService } from '../../../services/dmm.service';\n\nconst styles = (theme: Theme) => createStyles({\n  progress: {\n    color: theme.palette.grey[500],\n  },\n});\n\ninterface InstallationDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose: (response?: IResponseData<IResponseGameFrame> | IResponseError) => void;\n  payload: IRunPayload;\n}\n\ninterface InstallationDialogState {\n  requesting: boolean;\n  notification: boolean;\n  myapp: boolean;\n}\n\nclass InstallationDialog extends React.Component<InstallationDialogProps, InstallationDialogState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      requesting: false,\n      notification: true,\n      myapp: true,\n    };\n  }\n  install = async () => {\n    this.setState({ ...this.state, requesting: true });\n    const payload: IInstallPayload = {\n      app_name: this.props.payload.app_name,\n      app_base: this.props.payload.app_base,\n      notification: this.state.notification ? 1 : 0,\n      myapp: this.state.myapp ? 1 : 0,\n    };\n    const response = await DMMService.install(payload);\n    this.setState({ ...this.state, requesting: false });\n    if (response.code === OpCode.OK || response.code === OpCode.DMM_GAME_ALREADY_INSTALLED) {\n      this.props.onClose(response);\n    }\n  }\n\n  handleCheckboxChange = (event: React.ChangeEvent, key: 'notification' | 'myapp') => {\n    this.setState({\n      ...this.state,\n      [key]: JSON.parse((event.target as any).checked),\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return <Dialog\n      open={ this.props.open }\n      onExited={ () => this.setState({\n        ...this.state,\n        requesting: false,\n      }) }\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">安装游戏到账户</DialogTitle>\n      <DialogContent>\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Checkbox\n                onChange={e => this.handleCheckboxChange(e, 'notification')}\n                checked={ this.state.notification }\n                color=\"primary\"\n                name=\"notification\"\n              />\n            }\n            label=\"接收消息提醒\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox\n                onChange={e => this.handleCheckboxChange(e, 'myapp')}\n                checked={ this.state.myapp }\n                color=\"primary\"\n                name=\"myapp\"\n              />\n            }\n            label=\"在个人资料里显示这个应用\"\n          />\n        </FormGroup>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={ () => {\n            this.props.onClose();\n          } }\n          color=\"primary\"\n        >\n          返回\n        </Button>\n        <Button\n          onClick={ this.install } color=\"primary\">\n          { this.state.requesting && <CircularProgress size=\"24px\" className={ classes.progress } /> }\n          { !this.state.requesting && '安装' }\n        </Button>\n      </DialogActions>\n    </Dialog>;\n  }\n}\n\nexport default withStyles(styles)(InstallationDialog);\n","import { default as React } from 'react';\nimport { Dialog, DialogTitle, DialogActions, Button } from '@material-ui/core';\n\ninterface UpdateSTDialogProps {\n  open: boolean;\n  onClose: (result: boolean) => void;\n}\n\nclass UpdateSTDialog extends React.Component<UpdateSTDialogProps> {\n  render() {\n    return <Dialog\n      open={ this.props.open }\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">安全凭据已过期, 请刷新页面</DialogTitle>\n      <DialogActions>\n        <Button\n          onClick={ () => {\n            this.props.onClose(false);\n          } }\n          color=\"primary\"\n        >\n          返回\n        </Button>\n        <Button\n          onClick={ () => {\n            this.props.onClose(true);\n          } }\n          color=\"primary\"\n        >\n          确定\n        </Button>\n      </DialogActions>\n    </Dialog>;\n  }\n}\n\nexport default UpdateSTDialog;\n","import { default as React } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button, WithStyles,\n  withStyles,\n  CircularProgress,\n  createStyles,\n  Theme,\n  FormGroup,\n  Checkbox,\n  FormControlLabel,\n  FormControl,\n  InputLabel,\n  Input,\n  InputAdornment,\n  IconButton,\n  RadioGroup,\n  Radio,\n} from '@material-ui/core';\nimport { IResponseData, IResponseError, OpCode, IRegistPayload } from '../../../types/dmm';\nimport { DMMService } from '../../../services/dmm.service';\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nimport { default as MomentUtils } from '@date-io/moment';\nimport { default as Moment } from 'moment';\nimport 'moment/locale/zh-cn';\nimport { Autorenew, InsertInvitation } from '@material-ui/icons';\n\nconst styles = (theme: Theme) => createStyles({\n  progress: {\n    color: theme.palette.grey[500],\n  },\n  gender: {\n    flexDirection: 'row',\n  },\n});\n\ninterface RegistrationDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose: (response?: IResponseData<null> | IResponseError) => void;\n  appBase: string;\n}\n\ninterface RegistrationDialogState {\n  requesting: boolean;\n  nickname: string;\n  gender: 'male' | 'female';\n  isGeneralChecked: boolean;\n  isAdultChecked: boolean;\n  minDate: Date;\n  maxDate: Date;\n  birthday: Moment.Moment;\n}\n\nclass RegistrationDialog extends React.Component<RegistrationDialogProps, RegistrationDialogState> {\n  public readonly nickNameList = [\n    '提督', '審神者', '親方', '社長', '王子', '城主', 'プロデューサー', '首領', '店長', '千雪',\n    '結城', '山田', '田中', '紅雪', '小春凪', 'なつひめ', 'みさか白鳳', 'てまり姫', '早生あかつき',\n    'ゆかりん', 'かおりん', 'あーみん', 'まりあ', 'ことり', 'ゆっきー', 'みいにゃん', 'あやきち', 'つぐつぐ', 'みゆ',\n    '十六夜', '琥珀', '月輝夜姫', '都椿姫', '百日紅', '花螺李', '濡烏', '王鈴', '秋茜', '姫星紅',\n    '龍眼', '黒の剣士', '自宅警備員', '星の王子様', 'マルク', 'カメバズーカ', 'アルパカ', 'ペンギン', 'ロキ', 'ムスカ',\n    'シルキー', '月の住人', 'ホワイトライオン', '覇王', '仙人掌', 'しらゆき', 'なぎ', 'はづき', 'ハラショー', 'ハーゲンティ',\n    'ムルムル', '黒い天使', 'レリエル', 'ルベライト', '赤虎眼石', 'きたかみ', 'さしゃ', 'ななみつき', 'はやて', '北斗',\n    'クレド', 'カノン', 'ねむのき',\n  ];\n\n  randomNickname = () => {\n    return this.nickNameList[Math.floor(Math.random() * this.nickNameList.length)];\n  }\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      requesting: false,\n      nickname: this.randomNickname(),\n      gender: 'male',\n      isGeneralChecked: true,\n      isAdultChecked: false,\n      minDate: new Date(1900, 0, 1),\n      maxDate: new Date(new Date().getFullYear() - 18, 11, 31),\n      birthday: Moment(new Date(new Date().getFullYear() - 18, 0, 1)),\n    };\n  }\n\n  regist = async () => {\n    this.setState({ ...this.state, requesting: true });\n    const payload: IRegistPayload = {\n      app_base: this.props.appBase,\n      nickname: this.state.nickname,\n      gender: this.state.gender,\n      year: this.state.birthday.year().toString(),\n      month: (this.state.birthday.month() + 1).toString().padStart(2, '0'),\n      day: this.state.birthday.date().toString().padStart(2, '0'),\n    };\n    if (this.state.isGeneralChecked) {\n      payload.isGeneralChecked = 'on';\n    }\n    if (this.state.isAdultChecked) {\n      payload.isAdultChecked = 'on';\n    }\n    const response = await DMMService.regist(payload);\n    this.setState({ ...this.state, requesting: false });\n    if (response.code === OpCode.OK) {\n      this.props.onClose(response);\n    }\n  }\n\n  handleCheckboxChange = (event: React.ChangeEvent, key: 'isGeneralChecked' | 'isAdultChecked') => {\n    this.setState({\n      ...this.state,\n      [key]: JSON.parse((event.target as any).checked),\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return <Dialog\n      open={ this.props.open }\n      onExited={ () => this.setState({\n        ...this.state,\n        requesting: false,\n      }) }\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">完善用户资料</DialogTitle>\n      <DialogContent>\n        <FormGroup>\n          <FormControl margin=\"normal\">\n            <InputLabel htmlFor=\"random-username\">昵称</InputLabel>\n            <Input\n              id=\"random-username\"\n              type=\"text\"\n              value={ this.state.nickname }\n              onChange={ event => this.setState({\n                ...this.state,\n                nickname: event.target.value,\n              }) }\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"随机\"\n                    onClick={() => {\n                      this.setState({\n                        ...this.state,\n                        nickname: this.randomNickname(),\n                      });\n                    }}\n                    onMouseDown={ event => event.preventDefault() }\n                  >\n                    <Autorenew />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl component=\"fieldset\" margin=\"normal\">\n            <RadioGroup\n              aria-label=\"性别\"\n              name=\"gender\"\n              className={classes.gender}\n              value={ this.state.gender }\n              onChange={ (_, value) => this.setState({\n                ...this.state,\n                gender: value as 'male' | 'female',\n              }) }\n            >\n              <FormControlLabel value=\"male\" control={<Radio />} label=\"男性\" />\n              <FormControlLabel value=\"female\" control={<Radio />} label=\"女性\" />\n            </RadioGroup>\n          </FormControl>\n          <FormControl margin=\"normal\">\n            <MuiPickersUtilsProvider utils={MomentUtils} locale=\"zh-cn\">\n              <DatePicker\n                value={ this.state.birthday }\n                label=\"出生日期\"\n                okLabel=\"确定\"\n                cancelLabel=\"取消\"\n                onChange={ date => this.setState({\n                  ...this.state,\n                  birthday: date as Moment.Moment,\n                }) }\n                InputProps={{\n                  endAdornment: (\n                    <IconButton\n                      aria-label=\"选择出生日期\"\n                      // onClick={  }\n                    >\n                      <InsertInvitation />\n                    </IconButton>\n                  ),\n                }}\n              />\n            </MuiPickersUtilsProvider>\n          </FormControl>\n          <FormControl margin=\"normal\">\n            <FormControlLabel\n              control={\n                <Checkbox\n                  onChange={e => this.handleCheckboxChange(e, 'isGeneralChecked')}\n                  checked={ this.state.isGeneralChecked }\n                  name=\"isGeneralChecked\"\n                />\n              }\n              label=\"订阅DMM GAMES邮件杂志\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  onChange={e => this.handleCheckboxChange(e, 'isAdultChecked')}\n                  checked={ this.state.isAdultChecked }\n                  name=\"isAdultChecked\"\n                />\n              }\n              label=\"订阅DMM GAMES成人向邮件杂志\"\n            />\n          </FormControl>\n        </FormGroup>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={ () => {\n            this.props.onClose();\n          } }\n          color=\"primary\"\n        >\n          返回\n        </Button>\n        <Button\n          onClick={ this.regist } color=\"primary\">\n          { this.state.requesting && <CircularProgress size=\"24px\" className={ classes.progress } /> }\n          { !this.state.requesting && '确定' }\n        </Button>\n      </DialogActions>\n    </Dialog>;\n  }\n}\n\nexport default withStyles(styles)(RegistrationDialog);\n","import { default as React } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, WithStyles, withStyles, CircularProgress, createStyles, Theme, Typography } from '@material-ui/core';\nimport { IResponseData, IResponseError, IResponsePaymentAction, IResponsePaymentDetail, IPaymentPayload } from '../../../types/dmm';\nimport { DMMService } from '../../../services/dmm.service';\n\nimport 'moment/locale/zh-cn';\nimport './payment.css';\n\nconst styles = (theme: Theme) => createStyles({\n  progress: {\n    color: theme.palette.grey[500],\n  },\n});\n\ninterface PaymentDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose: (response: IResponseData<IResponsePaymentAction> | IResponseError) => void;\n  detail: IResponsePaymentDetail;\n  payload: IPaymentPayload;\n}\n\ninterface PaymentDialogState {\n  processingPayment: boolean;\n  processingCancel: boolean;\n}\n\nclass PaymentDialog extends React.Component<PaymentDialogProps, PaymentDialogState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      processingPayment: false,\n      processingCancel: false,\n    };\n  }\n\n  commit = async () => {\n    this.setState({ ...this.state, processingPayment: true });\n    const result = await DMMService\n      .paymentCommit(this.props.payload).catch(() => {\n        this.setState({ ...this.state, processingPayment: false });\n        return null;\n      });\n    if (result !== null) {\n      this.props.onClose(result);\n    }\n  }\n\n  cancel = async () => {\n    this.setState({ ...this.state, processingCancel: true });\n    const result = await DMMService\n      .paymentCancel(this.props.payload).catch(() => {\n        this.setState({ ...this.state, processingCancel: false });\n        return null;\n      });\n    if (result !== null) {\n      this.props.onClose(result);\n    }\n  }\n\n  render() {\n    const { classes, detail } = this.props;\n    return <Dialog\n      open={ this.props.open }\n      onExited={ () => this.setState({\n        ...this.state,\n        processingCancel: false,\n        processingPayment: false,\n      }) }\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">完善用户资料</DialogTitle>\n      <DialogContent>\n        <div className=\"item-info\">\n          <img src={ detail.itemImage } alt={ detail.itemTitle } width=\"180\" height=\"180\" />\n          <Typography component=\"h6\" variant=\"h6\">\n            { detail.itemTitle }\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            { detail.itemDescription }\n          </Typography>\n        </div>\n        <div className=\"payment-detail\">\n          <table>\n            <tbody>\n              <tr>\n                <td>单价</td>\n                <td>{ new Intl.NumberFormat('en-US').format(detail.itemPrice) }pt</td>\n              </tr>\n              <tr>\n                <td>数量</td>\n                <td>{ detail.itemCount }</td>\n              </tr>\n              <tr>\n                <td>总价</td>\n                <td>{ new Intl.NumberFormat('en-US').format(detail.itemPrice * detail.itemCount) }pt</td>\n              </tr>\n              <tr>\n                <td>持有点数</td>\n                <td>{ new Intl.NumberFormat('en-US').format(detail.point) }pt</td>\n              </tr>\n              <tr>\n                <td>结算点数</td>\n                <td>{ new Intl.NumberFormat('en-US').format(detail.point - detail.itemPrice * detail.itemCount) }pt</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={ this.cancel }\n          color=\"primary\"\n          disabled={ this.state.processingPayment || this.state.processingCancel }\n        >\n          { this.state.processingCancel && <CircularProgress size=\"24px\" className={ classes.progress } /> }\n          { !this.state.processingCancel && '取消' }\n        </Button>\n        <Button\n          onClick={ this.commit }\n          color=\"primary\"\n          disabled={ this.state.processingPayment || this.state.processingCancel || detail.itemPrice * detail.itemCount > detail.point }\n        >\n          { this.state.processingPayment && <CircularProgress size=\"24px\" className={ classes.progress } /> }\n          { !this.state.processingPayment && (detail.itemPrice * detail.itemCount > detail.point) ?  '点数不足' : '确定' }\n        </Button>\n      </DialogActions>\n    </Dialog>;\n  }\n}\n\nexport default withStyles(styles)(PaymentDialog);\n","import { default as React } from 'react';\nimport { AppStore, mapStateToProps } from '../../store';\nimport { updateTitle } from '../../store/title.store';\nimport { connect } from 'react-redux';\nimport { WithStyles, Theme, createStyles, withStyles } from '@material-ui/core';\nimport { default as InstallationDialog } from '../../components/dialogs/installation/installation';\nimport { IResponseError, IResponseData, OpCode, IGadgetInfo, IResponseGameFrame, IRPCPayloadRaw, IRPCPayload, IRPCRequestPaymentPayload, IResponsePaymentAction, IResponsePaymentDetail, IPaymentPayload } from '../../types/dmm';\nimport { SettingService } from '../../services/setting.service';\nimport { DMMService } from '../../services/dmm.service';\nimport { Redirect } from 'react-router';\nimport { default as UpdateSTDialog } from '../../components/dialogs/update-st/update-st';\nimport { default as RegistrationDialog } from '../../components/dialogs/registration/registration';\nimport { default as PaymentDialog } from '../../components/dialogs/payment/payment';\n\nconst styles = (theme: Theme) => createStyles({\n  pure: {\n    position: 'fixed',\n    left: 0,\n    top: 0,\n    margin: 0,\n  },\n  frame: {\n    border: 0,\n    display: 'block',\n    margin: '24px auto',\n  },\n  kancolle: {\n    top: '-16px',\n  },\n});\n\ninterface PlayProps extends WithStyles<typeof styles> {}\n\ninterface PlayState {\n  category: 'general' | 'adult';\n  name: string;\n  navigate: string;\n  iframeWidth: number;\n  iframeHeight: number;\n  rpcToken: string;\n  gadgetInfo: IGadgetInfo;\n  pure: boolean;\n  loading: boolean;\n  frameOrigin: string;\n  osapi: string;\n  updateStTimer: number;\n\n  // redirects\n  back: boolean;\n  tokenExpired: boolean;\n\n  // Dialog opener\n  install: boolean;\n  updateST: boolean;\n  regist: boolean;\n  payment: boolean;\n\n  // payment\n  paymentDetail: IResponsePaymentDetail;\n  paymentPayload: IPaymentPayload;\n}\n\nclass Play extends React.Component<AppStore & PlayProps, PlayState> {\n  private readonly newTransactionHost = 'pc-play.games.dmm.com';\n  // private readonly oldTransactionHost = 'www.dmm.com';\n\n  componentWillMount = () => {\n    const title = '运行游戏';\n    this.props.updateTitle(title);\n    document.title = `${ title } | 躲猫猫`;\n  }\n\n  constructor(props: any) {\n    super(props);\n    const search = new URLSearchParams(window.location.search);\n    this.state = {\n      iframeWidth: 1200,\n      iframeHeight: 1200,\n      category: search.get('category') as 'general' | 'adult' || 'general',\n      navigate: '',\n      name: search.get('name') as string,\n      rpcToken: '',\n      gadgetInfo: {} as IGadgetInfo,\n      pure: false,\n      loading: false,\n      frameOrigin: '',\n      osapi: '',\n      updateStTimer: 0,\n\n      // redirects\n      back: false,\n      tokenExpired: false,\n\n      // Dialog opener\n      install: false,\n      updateST: false,\n      regist: false,\n      payment: false,\n      paymentDetail: {} as IResponsePaymentDetail,\n      paymentPayload: {} as IPaymentPayload,\n    };\n    this.run();\n  }\n\n  handleOsapi = (osapi: string) => {\n    const parser = document.createElement('textarea');\n    parser.innerHTML = osapi;\n    const params = new URL(parser.value);\n    if (params.searchParams.has('parent')) {\n      params.searchParams.set('parent', `${window.location.origin}${window.location.pathname}`);\n    }\n    const hashPair: string[] = params.hash.substr(1).split('=');\n    if (hashPair[0] === 'rpctoken') {\n      this.setState({\n        ...this.state,\n        rpcToken: hashPair[1],\n      });\n    }\n    const result = params.toString();\n    return result;\n  }\n\n  public get frame() {\n    const frame: HTMLIFrameElement = window.document.getElementById('game_frame') as HTMLIFrameElement;\n    return frame;\n  }\n\n  public requestPayment = async (payload: IRPCPayload<[IRPCRequestPaymentPayload]>) => {\n    const transactionUrl = new URL(payload.data[0].transactionUrl);\n    const paymentPayload: IPaymentPayload = {\n      app_name: this.state.name,\n      app_base: this.state.category,\n      app_id: this.state.gadgetInfo.app_id,\n      version: transactionUrl.host === this.newTransactionHost ? 'new' : 'old',\n      payment_id: payload.data[0].paymentId,\n    };\n    const result = await DMMService.requestPayment(paymentPayload);\n    if (result.code !== OpCode.OK) {\n      this.rpcMessage('dmm.requestPaymentCallback', 500, result.data);\n      return;\n    }\n\n    this.setState({\n      paymentPayload,\n      payment: true,\n      paymentDetail: result.data,\n    });\n  }\n\n  public handleMessage = (e: MessageEvent) => {\n    if (e.origin === window.location.origin) {\n      return;\n    }\n    const raw = JSON.parse(e.data) as IRPCPayloadRaw;\n    const payload: IRPCPayload = {\n      event: raw.s,\n      data: raw.a,\n    };\n    switch (payload.event) {\n      case 'resize_iframe':\n        this.setState({\n          ...this.state,\n          iframeHeight: payload.data[0],\n        });\n        break;\n      case '__ack':\n        this.setState({\n          ...this.state,\n          loading: false,\n        });\n        break;\n      case 'dmm.requestPayment':\n        this.requestPayment(payload as IRPCPayload<[IRPCRequestPaymentPayload]>);\n        break;\n      default:\n        console.log(payload);\n    }\n  }\n\n  componentDidMount = () => {\n    window.addEventListener('message', this.handleMessage);\n  }\n\n  componentWillUnmount = () => {\n    window.removeEventListener('message', this.handleMessage);\n    clearTimeout(this.state.updateStTimer);\n  }\n\n  public rpcMessage<T extends any[]>(event: string, ...data: T) {\n    this.frame.contentWindow!.postMessage(\n      JSON.stringify({\n        s: event,\n        a: data,\n        t: this.state.rpcToken,\n        c: 0,\n        f: '..',\n        l: false,\n      } as IRPCPayloadRaw<T>),\n      this.state.frameOrigin,\n    );\n  }\n\n  public updateST = async () => {\n    const result = await DMMService.updateST({\n      app_name: this.state.name,\n      app_id: this.state.gadgetInfo.app_id,\n      app_base: this.state.category,\n      st: encodeURIComponent(this.state.gadgetInfo.st),\n      time: this.state.gadgetInfo.time,\n      token: this.state.gadgetInfo.token,\n    });\n    if (result.code !== OpCode.OK || result.data.status !== 'ok') {\n      clearInterval(this.state.updateStTimer);\n      this.setState({\n        ...this.state,\n        updateST: true,\n      });\n      return;\n    }\n    if (this.state.gadgetInfo.st !== result.data.result) {\n      this.state.gadgetInfo.st = result.data.result;\n    }\n    this.state.gadgetInfo.time = result.data.time;\n    this.rpcMessage('update_security_token', this.state.gadgetInfo.st);\n  }\n\n  runGame = (response: IResponseData<IResponseGameFrame>) => {\n    const gadgetInfo = (response).data.gadget_info;\n    gadgetInfo.st = decodeURIComponent(gadgetInfo.st);\n    const osapi = this.handleOsapi(gadgetInfo.url);\n    if (SettingService.autoRedirect) {\n      SettingService.game = undefined;\n      SettingService.gameCategory = undefined;\n      window.location.assign(osapi);\n      return;\n    }\n    SettingService.game = this.state.name;\n    SettingService.gameCategory = this.state.category;\n    clearInterval(this.state.updateStTimer);\n    const updateStTimer = setInterval(this.updateST, 60 * 30 * 1000) as unknown as number;\n    this.setState({\n      ...this.state,\n      gadgetInfo,\n      updateStTimer,\n      osapi,\n      frameOrigin: new URL(osapi).origin,\n    });\n    // dirty fix for POI\n    if ('align' in window) {\n      this.setState({\n        ...this.state,\n        pure: true,\n      });\n    }\n    if ('iframe_width' in response.data && response.data.iframe_width) {\n      this.setState({\n        ...this.state,\n        loading: true,\n        iframeWidth: response.data.iframe_width,\n      });\n    }\n  }\n\n  handleResponse = (response?: IResponseData<any> | IResponseError) => {\n    if (!response) {\n      return;\n    }\n    switch (response.code) {\n      case OpCode.OK:\n        this.runGame(response);\n        break;\n      case OpCode.DMM_GAME_INSTALL_NEEDED:\n        this.setState({\n          ...this.state,\n          install: true,\n        });\n        break;\n      case OpCode.DMM_REQUIRE_PROFILE:\n        this.setState({\n          ...this.state,\n          regist: true,\n        });\n        break;\n      case OpCode.DMM_FORCE_REDIRECT:\n      case OpCode.DMM_GAME_ALREADY_INSTALLED:\n        this.run();\n        break;\n      case OpCode.DMM_TOKEN_EXPIRED:\n        SettingService.authenticated = false;\n        this.setState({\n          ...this.state,\n          tokenExpired: true,\n        });\n        break;\n      default:\n        this.setState({\n          ...this.state,\n          back: true,\n        });\n    }\n  }\n\n  run() {\n    const payload = {\n      app_name: this.state.name,\n      app_base: this.state.category,\n    };\n    DMMService.run(payload).then(response => this.handleResponse(response));\n  }\n\n  render() {\n    const { classes } = this.props;\n    return <div>\n      { this.state.back && <Redirect to=\"/game-list\"></Redirect> }\n      { this.state.tokenExpired && <Redirect to=\"/auth\"></Redirect> }\n      <div\n        className={ `game-container ${this.state.loading ? 'loading' : ''}` }\n      >\n        { this.state.osapi !== '' && (\n          <iframe\n            id=\"game_frame\"\n            className={\n              `game_frame ${classes.frame} ${\n                this.state.pure ? `${classes.pure} ${\n                  this.state.name in classes ? classes[this.state.name as keyof typeof classes] : ''\n                } : ''` : ''\n              }`\n            }\n            title=\"游戏框架\"\n            src={ this.state.osapi }\n            width={ this.state.iframeWidth }\n            height={ this.state.iframeHeight }\n            scrolling=\"no\"\n            allowFullScreen={ true }\n          ></iframe>)\n        }\n      </div>\n      <InstallationDialog\n        payload={{\n          app_name: this.state.name,\n          app_base: this.state.category,\n        }}\n        open={ this.state.install }\n        onClose={ (response) => {\n          if (!response) {\n            this.setState({\n              ...this.state,\n              back: true,\n            });\n            return;\n          }\n          this.handleResponse(response);\n        } }\n      ></InstallationDialog>\n      <UpdateSTDialog\n        open={ this.state.updateST }\n        onClose={ (result) => {\n          this.setState({\n            ...this.state,\n            updateST: false,\n          });\n          if (result) {\n            this.run();\n          }\n        } }\n      ></UpdateSTDialog>\n      <RegistrationDialog\n        open={ this.state.regist }\n        appBase={ this.state.category }\n        onClose={ (response) => {\n          // whatever result is success or not, we are returning to\n          // game list and let user enter the game and install again\n          this.setState({\n            ...this.state,\n            back: true,\n          });\n          return;\n        } }\n      ></RegistrationDialog>\n      <PaymentDialog\n        open={ this.state.payment }\n        detail={ this.state.paymentDetail }\n        payload={ this.state.paymentPayload }\n        onClose={ async (result: IResponseError | IResponseData<IResponsePaymentAction>) => {\n          if (result.code !== OpCode.OK) {\n            this.rpcMessage('dmm.requestPaymentCallback', 500, result.data);\n            return;\n          }\n          this.rpcMessage('dmm.requestPaymentCallback', 200, {\n            amount: result.data.amount,\n            response_code: result.data.response_code,\n            payment_id: result.data.payment_id,\n          });\n          this.setState({\n            ...this.state,\n            payment: false,\n          });\n          return;\n        } }\n      ></PaymentDialog>\n    </div>;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { updateTitle },\n)(withStyles(styles)(Play));\n","import { default as React } from 'react';\nimport { withStyles, WithStyles, Theme, createStyles, Card, CardMedia, CardContent, Typography, ButtonBase } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { LocationDescriptor } from 'history';\n\nconst styles = (theme: Theme) => createStyles({\n  button: {\n    width: '100%',\n  },\n  card: {\n    display: 'flex',\n    width: '100%',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flex: '1 0 auto',\n    paddingBottom: '0 !important',\n  },\n  cover: {\n    width: 164,\n    height: 90,\n  },\n  link: {\n    color: 'initial',\n    textDecoration: 'none',\n  },\n});\n\ninterface GameCardProps extends WithStyles<typeof styles> {\n  to: LocationDescriptor;\n  image: string;\n  title: string;\n  description: string;\n}\n\nclass GameCard extends React.Component<GameCardProps, never> {\n  render() {\n    const { classes } = this.props;\n    return <div>\n      {\n      <Link to={ this.props.to } className={ classes.link }>\n        <ButtonBase component=\"div\" className={ classes.button }>\n          <Card className={ classes.card }>\n            <CardMedia\n              className={ classes.cover }\n              image={ this.props.image }\n              title={ this.props.title }\n            />\n            <div className={classes.details}>\n              <CardContent className={classes.content}>\n                <Typography component=\"h6\" variant=\"h6\">\n                  { this.props.title }\n                </Typography>\n                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                  { this.props.description }\n                </Typography>\n              </CardContent>\n            </div>\n          </Card>\n        </ButtonBase>\n      </Link>\n      }\n    </div>;\n  }\n}\n\nexport default withStyles(styles)(GameCard);\n","import { default as React } from 'react';\nimport { AppStore, mapStateToProps } from '../../store';\nimport { updateTitle } from '../../store/title.store';\nimport { updateGeneralGameList, updateAdultGameList } from '../../store/game-list.store';\nimport { connect } from 'react-redux';\nimport { withStyles, WithStyles, Theme, createStyles, Tabs, Tab } from '@material-ui/core';\nimport { SettingService } from '../../services/setting.service';\nimport { IGameInfo } from '../../types/dmm';\nimport { default as GameCard } from '../../components/game-card/game-card';\nimport { LocalFlorist, LocalBar } from '@material-ui/icons';\n\nconst styles = (theme: Theme) => createStyles({\n  cardList: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, 600px)',\n    gridGap: '12px',\n    margin: '12px',\n    padding: 0,\n    justifyContent: 'center',\n  },\n});\n\ninterface GameListProps extends WithStyles<typeof styles> {}\n\ninterface GameListState {\n  category: 0 | 1;\n  gameCategory: 0 | 1;\n}\n\nclass GameList extends React.Component<AppStore & GameListProps, GameListState> {\n  componentWillMount = () => {\n    const title = '游戏列表';\n    this.props.updateTitle(title);\n    document.title = `${ title } | 躲猫猫`;\n    this.getList();\n  }\n\n  public async fetchList(category: 'general' | 'adult'): Promise<IGameInfo[]> {\n    const response = await fetch(`/static/${category}.json`)\n      .catch(_ => new Response('[]'));\n    return await response.json() as IGameInfo[];\n  }\n\n  public getList = async () => {\n    if (this.props.gameListState.general.length === 0) {\n      const general = this.fetchList('general');\n      this.props.updateGeneralGameList(await general);\n    }\n    if (SettingService.category === 'exchange') {\n      if (this.props.gameListState.adult.length === 0) {\n        const adult = this.fetchList('adult');\n        this.props.updateAdultGameList(await adult);\n      }\n    }\n  }\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      category: SettingService.category === 'exchange' ? 1 : 0,\n      gameCategory: SettingService.category === 'exchange' ? (SettingService.gameCategory === 'general' ? 0 : 1) : 0,\n    };\n  }\n\n  public makeQueryString(name: string, category: 'general' | 'adult') {\n    const search = new URLSearchParams();\n    search.append('name', name);\n    search.append('category', category);\n    return {\n      pathname: '/',\n      search: `?${search.toString()}`,\n    };\n  }\n\n  render() {\n    const { classes, gameListState } = this.props;\n    return <div>\n      {\n        this.state.category === 1 && <Tabs\n          value={this.state.gameCategory}\n          onChange={ (_, value) => this.setState({ ...this.state, gameCategory: value }) }\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          centered\n        >\n          <Tab label=\"全年龄\" icon={<LocalFlorist />} />\n          <Tab label=\"成人向\" icon={<LocalBar />} />\n        </Tabs>\n      }\n      {<div>\n        <div hidden={this.state.gameCategory ? true : false}>\n          <div className={ classes.cardList } >\n            {\n              gameListState.general.map((info) => {\n                return <GameCard\n                  title={ info.title }\n                  image={ `https://img-freegames.dmm.com/app/${info.thumb}/details/pic_thmb.jpg` }\n                  description={ info.comment }\n                  to={ this.makeQueryString(info.name, 'general') }\n                  key={ info.name }\n                ></GameCard>;\n              })\n            }\n          </div>\n        </div>\n        {this.state.category === 1 && <div hidden={!this.state.gameCategory ? true : false}>\n          <div className={ classes.cardList } >\n            {\n              gameListState.adult.map((info) => {\n                return <GameCard\n                  title={ info.title }\n                  image={ `https://img-freegames.dmm.com/app/${info.thumb}/details/pic_thmb.jpg` }\n                  description={ info.comment }\n                  to={ this.makeQueryString(info.name, 'adult') }\n                  key={ info.name }\n                ></GameCard>;\n              })\n            }\n          </div>\n        </div>}\n      </div>}\n    </div>;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { updateTitle, updateGeneralGameList, updateAdultGameList },\n)(withStyles(styles)(GameList));\n","import { default as React } from 'react';\nimport { SettingService } from '../../services/setting.service';\nimport { AppStore, mapStateToProps } from '../../store';\nimport { updateTitle } from '../../store/title.store';\nimport { connect } from 'react-redux';\nimport { Toolbar, Tabs, Tab, createStyles, Theme, withStyles, WithStyles, Paper, TextField, FormControlLabel, Checkbox, FormGroup, Button, CircularProgress } from '@material-ui/core';\nimport { LocalFlorist, LocalBar } from '@material-ui/icons';\nimport { DMMService } from '../../services/dmm.service';\nimport { OpCode } from '../../types/dmm';\nimport { Redirect } from 'react-router-dom';\n\nconst styles = (theme: Theme) => createStyles({\n  container: {\n    width: '320px',\n    margin: '48px auto 0 auto',\n  },\n  inputBox: {\n    padding: '24px',\n    margin: '24px 0',\n  },\n  field: {\n    marginTop: '16px',\n  },\n  tabs: {\n    width: '100%',\n  },\n  actionButton: {\n    height: '48px',\n    fontSize: '1rem',\n    width: '100%',\n  },\n  progress: {\n    color: theme.palette.grey[500],\n  },\n});\n\ninterface AuthProps extends WithStyles<typeof styles> {}\n\ninterface ILoginPayload {\n  loginID: string;\n  password: string;\n  saveLoginID: boolean;\n  savePassword: boolean;\n  autoLogin: boolean;\n}\n\ninterface AuthState {\n  category: 0 | 1;\n  requesting: boolean;\n  loginPayload: ILoginPayload;\n  done: boolean;\n}\n\nclass Auth extends React.Component<AppStore & AuthProps, AuthState> {\n  componentWillMount = () => {\n    const title = '登录';\n    this.props.updateTitle(title);\n    document.title = `${ title } | 躲猫猫`;\n  }\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      category: SettingService.category === 'exchange' ? 1 : 0,\n      requesting: false,\n      loginPayload: {\n        loginID: SettingService.loginID || '',\n        password: SettingService.password || '',\n        saveLoginID: SettingService.loginID ? true : false,\n        savePassword: SettingService.password ? true : false,\n        autoLogin: SettingService.autoLogin ? true : false,\n      },\n      done: false,\n    };\n  }\n  handleCategoryChange = (_: any, value: 0 | 1) => {\n    this.setState({ ...this.state, category: value });\n  }\n  handleLoginPayloadChange = (event: React.ChangeEvent, key: keyof ILoginPayload) => {\n    this.setState({ ...this.state, loginPayload: {\n      ...this.state.loginPayload,\n      [key]: (event.target as any).value,\n    }});\n  }\n  handleCheckboxChange = (event: React.ChangeEvent, key: keyof ILoginPayload) => {\n    this.setState({ ...this.state, loginPayload: {\n      ...this.state.loginPayload,\n      [key]: JSON.parse((event.target as any).checked),\n    }});\n  }\n  public login = async () => {\n    this.setState({ ...this.state, requesting: true });\n    const result = await DMMService.login(\n      {\n        login_id: this.state.loginPayload.loginID,\n        password: this.state.loginPayload.password,\n        use_auto_login: this.state.loginPayload.autoLogin ? 1 : 0,\n        save_login_id: this.state.loginPayload.saveLoginID ? 1 : 0,\n        save_password: this.state.loginPayload.savePassword ? 1 : 0,\n      },\n      this.state.category === 1,\n    );\n    if (result.code === OpCode.OK) {\n      this.setState({ ...this.state, done: true });\n      return;\n    }\n    this.setState({ ...this.state, requesting: false });\n  }\n  public logout = async () => {\n    this.setState({ ...this.state, requesting: true });\n    await DMMService.logout();\n    this.setState({ ...this.state, requesting: false });\n  }\n  render() {\n    const { classes } = this.props;\n    const { requesting } = this.state;\n    const { authenticated } = SettingService;\n    return <div className={ classes.container }>\n      { this.state.done && <Redirect to=\"/game-list\" push={true} /> }\n      { !authenticated ? (\n      <div>\n        <Toolbar disableGutters={ true }>\n          <Tabs\n            className={ classes.tabs }\n            value={ this.state.category }\n            variant=\"fullWidth\"\n            onChange={ this.handleCategoryChange }\n            aria-label=\"选择分区\"\n            textColor=\"primary\"\n            indicatorColor=\"primary\"\n          >\n            <Tab label=\"全年龄\" icon={<LocalFlorist />} />\n            <Tab label=\"成人向\" icon={<LocalBar />} />\n          </Tabs>\n        </Toolbar>\n        <Paper className={ classes.inputBox }>\n          <form>\n            <TextField\n              label=\"DMM 用户邮箱\"\n              margin=\"normal\"\n              name=\"login_id\"\n              autoComplete=\"username\"\n              fullWidth\n              value={ this.state.loginPayload.loginID }\n              onChange={e => this.handleLoginPayloadChange(e, 'loginID')}\n            />\n            <TextField\n              label=\"DMM 用户密码\"\n              type=\"password\"\n              margin=\"normal\"\n              name=\"password\"\n              autoComplete=\"current-password\"\n              fullWidth\n              value={ this.state.loginPayload.password }\n              onChange={e => this.handleLoginPayloadChange(e, 'password')}\n            />\n            <FormGroup className={ classes.field }>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    onChange={e => this.handleCheckboxChange(e, 'saveLoginID')}\n                    checked={ this.state.loginPayload.saveLoginID }\n                    color=\"primary\"\n                  />\n                }\n                label=\"记住账号\"\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    onChange={e => this.handleCheckboxChange(e, 'savePassword')}\n                    checked={ this.state.loginPayload.savePassword }\n                    color=\"primary\"\n                  />\n                }\n                label=\"记住密码\"\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    onChange={e => this.handleCheckboxChange(e, 'autoLogin')}\n                    checked={ this.state.loginPayload.autoLogin }\n                    color=\"primary\"\n                  />\n                }\n                label=\"自动登录\"\n              />\n            </FormGroup>\n          </form>\n        </Paper>\n        <div className={ classes.field }>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={ classes.actionButton }\n            onClick={ this.login }\n            disabled={ this.state.requesting }\n          >\n            { requesting && <CircularProgress size=\"24px\" className={ classes.progress } /> }\n            { !requesting && '登录' }\n          </Button>\n        </div>\n      </div>\n      ) : (\n      <div>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={ classes.actionButton }\n          onClick={ this.logout }\n          disabled={ this.state.requesting }\n        >\n          { requesting && <CircularProgress size=\"24px\" className={ classes.progress } /> }\n          { !requesting && '切换账号' }\n        </Button>\n      </div>\n      )}\n    </div>;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { updateTitle },\n)(withStyles(styles)(Auth));\n","import { default as React } from 'react';\nimport { AppStore, mapStateToProps } from '../../store';\nimport { updateTitle } from '../../store/title.store';\nimport { connect } from 'react-redux';\nimport { SettingService } from '../../services/setting.service';\nimport { FormControlLabel, Switch, createStyles, WithStyles, withStyles, Button, FormControl } from '@material-ui/core';\n\nconst styles = () => createStyles({\n  settingsBody: {\n    width: '320px',\n    margin: '24px auto',\n  },\n});\n\ninterface SettingsSProps extends WithStyles<typeof styles> { }\n\ninterface SettingsState {\n  autoRedirect: boolean;\n}\n\nclass Settings extends React.Component<AppStore & SettingsSProps, SettingsState> {\n  componentWillMount = () => {\n    const title = '设置';\n    this.props.updateTitle(title);\n    document.title = `${ title } | 躲猫猫`;\n  }\n  render() {\n    const { autoRedirect } = SettingService;\n    const { classes } = this.props;\n    return <div className={ classes.settingsBody }>\n      <FormControl margin=\"normal\">\n        <FormControlLabel\n          control={\n            <Switch\n              checked={ autoRedirect }\n              onChange={ (_, value) => {\n                SettingService.autoRedirect = value;\n                this.setState({\n                  ...this.state,\n                  autoRedirect: value,\n                });\n              } }\n              inputProps={{ 'aria-label': '自动跳转到OSAPI框架页' }}\n            />\n          }\n          label=\"自动跳转到OSAPI框架页\"\n        />\n      </FormControl>\n      <FormControl margin=\"normal\">\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          // className={ classes.actionButton }\n          onClick={ () => { SettingService.cookies = []; }}\n        >清除Cookies</Button>\n      </FormControl>\n    </div>;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { updateTitle },\n)(withStyles(styles)(Settings));\n","import { default as React } from 'react';\nimport { mapStateToProps, AppStore } from '../../store';\nimport { connect } from 'react-redux';\nimport { updateTitle } from '../../store/title.store';\nimport { WithStyles, createStyles, withStyles } from '@material-ui/styles';\n\nconst styles = () => createStyles({\n  container: {\n    width: 600,\n    margin: '24px auto',\n  },\n});\n\ninterface PaymentDialogProps extends WithStyles<typeof styles> { }\n\nclass About extends React.Component<AppStore & PaymentDialogProps> {\n  componentWillMount = () => {\n    const title = '关于';\n    this.props.updateTitle(title);\n    document.title = `${ title } | 躲猫猫`;\n  }\n  render() {\n    const { classes } = this.props;\n    return <div className={ classes.container }>\n      <h1>php-dmm-netgame-web</h1>\n\n      <h2>可能会有的问题以及解答</h2>\n      <p>问: 提示对DMM输入了错误的数据?</p>\n      <p>答: 如果刷新页面/重新登陆无效, 请尝试在设置页面清除Cookies并重新登陆</p>\n      <p>问: 完善不了账号信息/无法购买课金道具?</p>\n      <p>答: 这部分功能尚未经过完整测试, 请将具体联系方式回复至贴吧以协助开发(谨慎起见不提供链接)</p>\n\n      <h2>关于这个特制的React版本</h2>\n\n      <p>为了证明自己的实力, 挑战自己学习能力和工作压力的极限, 测试新的日常编码思想, 启动了这个项目, 最长连续奋斗21小时, 勉强达成自己的心愿(原预订一天内完成, 由于诸多问题干扰, 导致制作时间远超预期)</p>\n\n      <h2>php-dmm-netgame-web-react</h2>\n      <p>项目启动时间: 2019-07-28 20:00 CST</p>\n      <p>初版竣工时间: 2019-07-31 07:00 CST</p>\n      <p>历经难关:</p>\n      <ul>\n        <li><del>Next.js</del>(从入门到放弃)</li>\n        <li>React 16</li>\n        <li>React Router</li>\n        <li>React Redux</li>\n        <li>@types/react</li>\n        <li>Material UI</li>\n        <li>地球OL</li>\n        <li>各位HR</li>\n      </ul>\n\n      <h2>php-dmm-netgame-web-angular</h2>\n      <p>项目启动日期: 2019-06-26</p>\n      <p>初版竣工日期: 2019-07-11</p>\n      <p>历经难关:</p>\n      <ul>\n        <li>Angular 8</li>\n        <li>Angular Material</li>\n        <li>DMM RPC</li>\n        <li>样本收集(失败告终)</li>\n        <li>域名注册</li>\n        <li>功能测试</li>\n        <li>地球OL</li>\n      </ul>\n\n      <h2>php-dmm-netgame-web-aurelia</h2>\n      <p>项目启动日期: 2019-06-08</p>\n      <p>初版竣工日期: 2019-06-24</p>\n      <p>历经难关:</p>\n      <ul>\n        <li>PHP</li>\n        <li>Composer</li>\n        <li>GuzzleHTTP</li>\n        <li>DMM多方法登录</li>\n        <li>Cookies转发</li>\n        <li>DMM双站点同时登陆</li>\n        <li>DMM返回结果解析</li>\n        <li>Aurelia</li>\n        <li>TypeScript</li>\n        <li>Material Components Web</li>\n        <li>舰队collection 2019年 春季活动</li>\n        <li>地球OL</li>\n      </ul>\n\n      <p>玩的愉快 :)</p>\n    </div>;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { updateTitle },\n)(withStyles(styles)(About));\n","import { default as React } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  NavLink,\n} from 'react-router-dom';\nimport {\n  IconButton,\n  Typography,\n  AppBar,\n  Toolbar,\n  withStyles,\n  Theme,\n  WithStyles,\n  createStyles,\n  SvgIcon,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Snackbar,\n} from '@material-ui/core';\nimport {\n  Menu,\n  ExitToApp as ExitToAppIcon,\n  List as ListIcon,\n  PlayArrow as PlayArrowIcon,\n  Settings as SettingsIcon,\n  Info as InfoIcon,\n  ArrowDropDown,\n} from '@material-ui/icons';\nimport { updateTitle } from './store/title.store';\nimport { updateGeneralGameList } from './store/game-list.store';\n\nimport './App.css';\nimport { default as AuthGuardRoute } from './guards/auth.guard';\nimport { default as PlayGuardRoute } from './guards/play.guard';\nimport { default as Play } from './routes/play/play';\nimport { default as GameList } from './routes/game-list/game-list';\nimport { default as Auth } from './routes/auth/auth';\nimport { default as Settings } from './routes/settings/settings';\nimport { default as About } from './routes/about/about';\nimport { mapStateToProps, AppStore } from './store';\nimport { connect } from 'react-redux';\nimport { SvgIconProps } from '@material-ui/core/SvgIcon';\nimport { DMMService } from './services/dmm.service';\n\nconst styles = (theme: Theme) => createStyles({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    whiteSpace: 'nowrap',\n  },\n  drawerTitle: {\n    display: 'flex',\n    minHeight: 64,\n    paddingLeft: 24,\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n  },\n  active: {\n    color: `${theme.palette.primary.main} !important`,\n    background: `${theme.palette.primary.main}20 !important`,\n    pointerEvents: 'none',\n  },\n  link: {\n    textDecoration: 'none',\n    display: 'block',\n    color: theme.palette.grey[900],\n  },\n  drawer: {\n    width: '256px',\n  },\n  background: {\n    backgroundColor: theme.palette.grey[50],\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n});\n\ninterface AppProps extends WithStyles<typeof styles> {}\n\ninterface AppState {\n  opened: boolean;\n  snackbar: boolean;\n  snackbarMessage: string;\n}\n\ninterface INavLink {\n  icon: React.ComponentType<SvgIconProps>;\n  title: string;\n  to: string;\n  exact?: boolean;\n}\n\nexport class App extends React.Component<AppStore & AppProps, AppState> {\n  navLinks: INavLink[] = [\n    {\n      icon: ExitToAppIcon,\n      title: '登录',\n      to: '/auth',\n    },\n    {\n      icon: ListIcon,\n      title: '游戏列表',\n      to: '/game-list',\n    },\n    {\n      icon: PlayArrowIcon,\n      title: '运行游戏',\n      exact: true,\n      to: '/',\n    },\n    {\n      icon: SettingsIcon,\n      title: '设置',\n      to: '/settings',\n    },\n    {\n      icon: InfoIcon,\n      title: '关于',\n      to: '/about',\n    },\n  ];\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      opened: false,\n      snackbar: false,\n      snackbarMessage: '',\n    };\n  }\n  toggleDrawer = (opened: boolean) => {\n    this.setState({ opened });\n  }\n  closeSnackbar = () => { this.setState({ ...this.state, snackbar: false }); };\n  componentDidMount = () => {\n    DMMService.emiter.on('message', (message: string) => {\n      this.setState({\n        ...this.state,\n        snackbar: true,\n        snackbarMessage: message,\n      });\n    });\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={ `App ${classes.background}` }>\n        <Router basename={'/'}>\n          <Drawer\n            open={ this.state.opened }\n            onClose={ () => this.toggleDrawer(false) }\n          >\n            <div className={ classes.drawerTitle }>\n              <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n              >\n                站点导航\n              </Typography>\n              <Typography\n                variant=\"caption\"\n                color=\"textSecondary\"\n              >\n                DMM网页游戏登录器\n              </Typography>\n            </div>\n            <List className={ classes.drawer }>\n              {this.navLinks.map(link => (\n                <NavLink\n                  to={ link.to }\n                  activeClassName={ `route-active ${classes.active}` }\n                  exact={ link.exact }\n                  className={ classes.link }\n                  onClick={ () => {\n                    this.setState({ ...this.state, opened: false });\n                    return true;\n                  } }\n                  key={link.title}\n                >\n                  <ListItem\n                    button\n                  >\n                      <ListItemIcon><link.icon color=\"inherit\"></link.icon></ListItemIcon>\n                      <ListItemText primary={link.title} />\n                  </ListItem>\n                </NavLink>\n              ))}\n            </List>\n          </Drawer>\n          <AppBar position=\"static\">\n            <Toolbar>\n              <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"打开导航栏\"\n                className={ classes.menuButton }\n                onClick={ () => this.toggleDrawer(true) }\n              >\n                <Menu />\n              </IconButton>\n              <Typography variant=\"h6\" color=\"inherit\" className={ classes.title }>\n                { this.props.titleState.title }\n              </Typography>\n              <IconButton\n                aria-label=\"Github Repository\"\n                color=\"inherit\"\n                href=\"https://github.com/zazck/php-dmm-netgame\"\n                target=\"_blank\"\n              >\n                <SvgIcon height=\"24\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"24\" aria-hidden=\"true\"><path fillRule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"></path></SvgIcon>\n              </IconButton>\n            </Toolbar>\n          </AppBar>\n          <Route path=\"/auth\" component={ Auth } />\n          <Route path=\"/settings\" component={ Settings } />\n          <Route path=\"/about\" component={ About } />\n          <Route path=\"/game-list\" render={ () => <AuthGuardRoute component={ GameList } /> } />\n          <Route path=\"/play\" render={ () => <PlayGuardRoute component={ Play }></PlayGuardRoute> } />\n          <Route path=\"/\" exact render={ () => <PlayGuardRoute component={ Play }></PlayGuardRoute> } />\n          <Snackbar\n            key={ new Date().toString() }\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'center',\n            }}\n            open={this.state.snackbar}\n            autoHideDuration={ 5000 }\n            onClose={ this.closeSnackbar }\n            // onExited={this.handleExited}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            message={<span id=\"message-id\">{ this.state.snackbarMessage }</span>}\n            action={\n              <IconButton\n                key=\"close\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                // className={classes.close}\n                onClick={ this.closeSnackbar }\n              >\n                <ArrowDropDown />\n              </IconButton>\n            }\n          />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default connect<any, any, any, any>(\n  mapStateToProps,\n  { updateTitle, updateGeneralGameList },\n)(withStyles(styles)(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { default as React } from 'react';\nimport { default as ReactDOM } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { default as configureStore } from './store';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport { deepPurple, teal } from '@material-ui/core/colors';\n\nconst store = configureStore();\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { main: deepPurple.A700 }, // Purple and green play nicely together.\n    secondary: { main: teal[600] }, // This is just green.A700 as hex.\n  },\n});\n\nclass Root extends React.Component<any, any> {\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Provider store={ store }>\n          <App />\n        </Provider>\n      </MuiThemeProvider>\n    );\n  }\n}\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}